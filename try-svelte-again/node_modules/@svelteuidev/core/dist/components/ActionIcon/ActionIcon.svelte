<script>import useStyles from './ActionIcon.styles';
import { ActionIconErrors } from './ActionIcon.errors';
import { createEventForwarder, useActions } from '../../internal';
import { get_current_component } from 'svelte/internal';
import { Box } from '../Box';
import Loader from '../Loader/Loader.svelte';
import Error from '../../internal/errors/Error.svelte';
export let use = [], element = undefined, className = '', override = {}, root = 'button', color = 'gray', variant = 'hover', size = 'md', radius = 'sm', loaderProps = {
    size: 'xs',
    color: 'gray',
    variant: 'circle'
}, loading = false, disabled = false, href = '', external = false;
export { className as class };
const forwardEvents = createEventForwarder(get_current_component());
// --------------Error Handling-------------------
let observable = false;
let err;
if (root !== 'a' && $$props.href) {
    observable = true;
    err = ActionIconErrors[0];
}
$: if (observable)
    override = { display: 'none' };
// --------------End Error Handling-------------------
$: ({ cx, classes, getStyles } = useStyles({ color, radius, size }, { name: 'ActionIcon' }));
</script>

<Error {observable} component="ActionIcon" code={err} />

<!--
@component

Icon button to indicate secondary action.

@see https://svelteui.org/core/action-icon
@example
    ```tsx
    <ActionIcon>Click</ActionIcon> // standard ActionIcon
    <ActionIcon color="red" /> // red ActionIcon
    <ActionIcon variant="default"><Discord></ActionIcon> // default variant with an icon
    ```
-->

<Box
	bind:element
	use={[forwardEvents, [useActions, use]]}
	tabindex={0}
	disabled={disabled || loading}
	class={cx(
		className,
		classes.root,
		{ [classes.loading]: loading },
		getStyles({ css: override, variation: variant })
	)}
	target={external ? '_blank' : null}
	rel={external ? 'noreferrer noopener' : null}
	{root}
	{href}
	{...$$restProps}
>
	{#if loading}
		<Loader size={loaderProps.size} color={loaderProps.color} variant={loaderProps.variant} />
	{:else}
		<slot>+</slot>
	{/if}
</Box>
